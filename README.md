# Penetration Testing Methodology

## Overview
This repository documents a typical penetration testing workflow for analyzing security of web domains. The methodology includes subdomain enumeration, vulnerability scanning, and endpoint analysis, utilizing a suite of tools such as Subfinder, HTTPx, Censys Search, Dirsearch, and Katana.

## Tools Used
- **Subfinder**: For discovering subdomains.
- **HTTPx**: For probing valid HTTP and HTTPS domains.
- **Censys Search**: For gathering more host targets.
- **Dirsearch**: For directory and file enumeration.
- **Katana**: For parameter discovery and vulnerability scanning.
- **Nuclei**: Vulnerability scanner

## Workflow

### 1. Subdomain Discovery
Collect subdomains using Subfinder and probe them with HTTPx:
```
subfinder -dL targetdomain.com -all | httpx -o target-domain-sub.txt
```
### 2. Expand Target Scope with Censys
```
Search for more targets related to targetdomain.com using Censys with the following query:
services.tls.certificates.leaf_data.names:"*.targetdomain.com" or dns.names:"*.targetdomain.com" or dns.reverse_dns.names:"*.targetdomain.com"
```
### 2.1 Additional Steps
* Combine results from Subfinder and Censys.
* Use Dirsearch to recursively search directories and files:
```
dirsearch -r -l target-domain-sub.txt
```
* Manually review the results from Dirsearch.

### 4. Gathering Parameterized Endpoint Using Katana
```
katana -list target-domain-sub.txt -f qurl -o target-subdomain-katana-parameterized.txt
```
### 4.1 Endpoint and JavaScript Analysis
Analyze JavaScript files and other endpoints for potential vulnerabilities:

```
katana -list target-domain-sub.txt -o target-subdomain-katana-normal.txt
```
* Manually review and test new endpoints discovered in JavaScript files.
* Lookout for configuration that shouldn't be in public or JS files. (private apikeys, aws keys, etc)

### 5. Automated Vulnerability Scanning
* Utilize automated scanner like nuclei or by using your automated tools against target-subdomain-katana-parameterized.txt / target-domain-sub.txt for vulnerabilities such as SQL injection, XSS, and more:
```
nuclei -l (target-subdomain-katana-parameterized.txt / target-domain-sub.txt) -sa -s medium,high,critical,unknown -o targetdomain-vulnerabilities.txt
```

### Additional Considerations
This workflow is adjustable depending on the target's nature, with possible extensions into network vulnerability assessments and more advanced methodologies.
